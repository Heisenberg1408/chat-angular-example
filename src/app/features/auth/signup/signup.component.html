<app-authorization-form title="Create Account">
  <ng-template authFormContent>
    <form [formGroup]="form">
      <app-form-field label="Display Name">
        <input pInputText id="displayName" formControlName="displayName" aria-describedby="name-error"/>
        <ng-template formFieldFooter>
          <small *ngIf="form.controls['displayName'].hasError('minlength')" id="name-error" class="error-message">Name is too short</small>
        </ng-template>
      </app-form-field>
      <app-form-field label="Email">
        <input pInputText id="email" formControlName="email" aria-describedby="email-error"/>
        <ng-template formFieldFooter>
          <small *ngIf="form.controls['email'].hasError('email')" id="email-error" class="error-message">Enter a valid email</small>
        </ng-template>
      </app-form-field>
      <app-form-field label="Password">
        <input pInputText id="password" type="password" formControlName="password" aria-describedby="password-error"/>
        <ng-template formFieldFooter>
          <small *ngIf="form.controls['password'].hasError('minlength')" id="password-error" class="error-message">Password is too short</small>
        </ng-template>
      </app-form-field>
    </form>
  </ng-template>
  <ng-template authFormFooter>
    <p-button [disabled]="form.invalid" (onClick)="signUp()">Create Account</p-button>
    <a routerLink="/signin">Already have an account? Go to sign in.</a>
  </ng-template>
</app-authorization-form>
